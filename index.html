<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MoneyTrackr</title>
  </head>
  <body>
    <script>
      function rounded(value) {
        return Math.round(value * 100) / 100;
      }

      function calculateInterest(value) {
        interest = rounded(value * 0.1);
        return interest;
      }

      function calculateIncome(value) {
        income = rounded(value * 0.005);
        return income;
      }

      function calculateBalance(month, initialBalance, releases) {
        console.log(month);
        balance = initialBalance;
        for (release of releases) {
          if (release.type === "income") {
            balance += release.value;
          }
          if (release.type === "expensive") {
            balance -= release.value;
          }
        }
        isNegative = balance < 0;
        if (isNegative) {
          interest = calculateInterest(balance);
          balance += interest;
        } else {
          income = calculateIncome(balance);
          console.log(income);
          balance += income;
        }
        return rounded(balance);
      }
      console.log("A software Engineer!");

      januaryRelease = [
        { category: "Salário", type: "income", value: 5000 },
        { category: "Aluguel", type: "expensive", value: 1000 },
        { category: "Conta de luz", type: "expensive", value: 500 },
        { category: "Conta de Água", type: "expensive", value: 500 },
        { category: "Internet", type: "expensive", value: 500 },
        { category: "Transporte", type: "expensive", value: 200 },
        { category: "Lazer", type: "expensive", value: 300 },
        { category: "Alimentação", type: "expensive", value: 1000 },
      ];
      initialBalance = 0;
      balance1 = calculateBalance("janeiro", initialBalance, januaryRelease);
      console.log(balance1);

      februaryRelease = [
        { category: "Salário", type: "income", value: 6000 },
        { category: "Aluguel", type: "expensive", value: 2000 },
        { category: "Conta de luz", type: "expensive", value: 1000 },
        { category: "Conta de Água", type: "expensive", value: 1000 },
        { category: "Internet", type: "expensive", value: 250 },
        { category: "Transporte", type: "expensive", value: 250 },
        { category: "Lazer", type: "expensive", value: 250 },
        { category: "Alimentação", type: "expensive", value: 250 },
      ];
      balance2 = calculateBalance("fevereiro", balance1, februaryRelease);
      console.log(balance2);

      marchRelease = [
        { category: "Salário", type: "income", value: 4000 },
        { category: "Aluguel", type: "expensive", value: 1200 },
        { category: "Conta de luz", type: "expensive", value: 200 },
        { category: "Conta de Água", type: "expensive", value: 100 },
        { category: "Internet", type: "expensive", value: 200 },
        { category: "Transporte", type: "expensive", value: 500 },
        { category: "Lazer", type: "expensive", value: 800 },
        { category: "Alimentação", type: "expensive", value: 1000 },
      ];
      balance3 = calculateBalance("marco", balance2, marchRelease);
      console.log(balance3);
      acumuladoDoAno = balance1 + balance2 + balance3;

      console.log("O acumulado do ano é: R$", rounded(acumuladoDoAno));
    </script>
  </body>
</html>
